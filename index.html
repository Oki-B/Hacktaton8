<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
    <div class="background-image">
        <img src="./assets/images/awan_btm.png" alt="awan" id="img-bottom">
        <img src="./assets/images/awan_L.png" alt="awan-small" id="img-left">
        <img src="./assets/images/awan_R.png" alt="awan-small" id="img-right">
        <img src="./assets/images/daun_L.png" alt="daun-left" id="daun-left">
        <img src="./assets/images/daun_R.png" alt="daun-right" id="daun-right">
    </div>


    <div class="main-container">
        <div class="login-board">
            <div class="back-board">
            </div>
            <div class="front-board">
                <div><img src="./assets/images/title.png" alt="" id="title"></div>







                <!-- Login Form -->
                <div id="login-form" onsubmit="return validated()">
                    <h1 class="title">Login</h1>

                    <form action="#" method="post">
                        <div style="margin: 20px;">
                            <label style="color: black;">Username</label>
                            <label class="input input-bordered flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                    class="h-4 w-4 opacity-70">
                                    <path
                                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" />
                                </svg>
                                <input type="text" class="grow" placeholder="Type here" name="username" id="username"
                                    required />
                            </label>
                        </div>


                        <div style="margin: 20px;">
                            <label style="color: black;">Password</label>
                            <label class="input input-bordered flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                    class="h-4 w-4 opacity-70">
                                    <path fill-rule="evenodd"
                                        d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"
                                        clip-rule="evenodd" />
                                </svg>
                                <input type="password" class="grow" placeholder="Type here" name="password"
                                    id="password" required />
                            </label>
                        </div>
                        <button style="margin-bottom: 20px;" type="submit" class="play-btn">Login</button>
                    </form>
                    <button type="button" onclick="showRegistrationForm()" class="play-btn">create account</button>
                </div>


                <!-- Register Form -->
                <div id="register-form" style="display: none;">
                    <h1 class="title">SIGN UP</h1>
                    <form onsubmit="registerUser(event)">
                        <div style="margin: 20px;">
                            <label style="color: black;">Username</label>
                            <label class="input input-bordered flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                    class="h-4 w-4 opacity-70">
                                    <path
                                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z" />
                                </svg>
                                <input type="text" class="grow" placeholder="Type here" name="username"
                                    id="reg-username" required />
                            </label>
                        </div>

                        <div style="margin: 20px;">
                            <label style="color: black;">ImageUrl</label>
                            <label class="input input-bordered flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                                    class="h-4 w-4 opacity-70">
                                    <path
                                        d="M10.59 13.41a1 1 0 0 0 1.41-1.41l-2-2a1 1 0 0 0-1.41 1.41l2 2ZM15.66 8.34a4 4 0 0 1 0 5.66l-2.83 2.83a4 4 0 0 1-5.66-5.66l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a2 2 0 0 0 0 2.83 2 2 0 0 0 2.83 0l2.83-2.83a2 2 0 0 0 0-2.83 1 1 0 0 1 1.41-1.41ZM8.34 15.66a4 4 0 0 1 0-5.66l2.83-2.83a4 4 0 0 1 5.66 5.66l-.71.71a1 1 0 0 1-1.41-1.41l.71-.71a2 2 0 0 0 0-2.83 2 2 0 0 0-2.83 0L8.34 10a2 2 0 0 0 0 2.83 1 1 0 0 1-1.41 1.41Z" />
                                </svg>
                                <input type="text" class="grow" placeholder="Type here" name="imageUrl"
                                    id="reg-imageUrl" required />
                            </label>
                        </div>

                        <div style="margin: 20px;">
                            <label style="color: black;">Password</label>
                            <label class="input input-bordered flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                    class="h-4 w-4 opacity-70">
                                    <path fill-rule="evenodd"
                                        d="M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z"
                                        clip-rule="evenodd" />
                                </svg>
                                <input type="password" class="grow" placeholder="Type here" name="password"
                                    id="reg-password" required />
                            </label>
                        </div>

                        <button class="play-btn" type="submit">SIGN UP</button>
                        <p style="color: blue; text-align: center;"><a href="#" onclick="showLoginForm()"
                                style="color: blue; text-decoration: underline;">Login</a></p>
                    </form>
                </div>

            </div>
        </div>

        <div class="score-board">
            <div class="outer-board">
                <div class="inner-board">
                    <h1>TOP SCORE</h1>
                    <div>
                        <div class="top-scorer">
                            <p>1.</p>
                            <img class="profil-pic" src="./assets/images/bg.jpg" alt="">
                            <p>NAMA PLAYER</p>
                        </div>
                        <div class="top-scorer">
                            <p>2.</p>
                            <img class="profil-pic" src="./assets/images/bg.jpg" alt="">
                            <p>NAMA PLAYER</p>
                        </div>
                        <div class="top-scorer">
                            <p>3.</p>
                            <img class="profil-pic" src="./assets/images/bg.jpg" alt="">
                            <p>NAMA PLAYER</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./index.js"></script>

    <script>


        //fungsi untuk memunculkan dan sembunyikan login dan register
        function showLoginForm() {
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('register-form').style.display = 'none';
        }

        function showRegistrationForm() {
            document.getElementById('login-form').style.display = 'none';
            document.getElementById('register-form').style.display = 'block';
        }

        //===============================================================


        //Fungi untuk Validasi login
        function validated() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            // Amnil data dari LocalStorage
            const users = JSON.parse(localStorage.getItem("users")) || [];  // key localStorage "users".
            const user = users.find(user => user.username === username && user.password === password);

            if (user) {
                // save username ke session biar ga cape bulak balik login
                sessionStorage.setItem("username", username);
                
                window.location.href = './assets/pages/main.html';
                return false; // Mencegah pengiriman form
            } else {
                alert("Username or Password is inccorect!");
                return false; //Mencegah pengiriman form
            }
        }
        //===============================================================


        // Register User
        function registerUser(event) {
            event.preventDefault();
            const username = document.getElementById("reg-username").value;
            const imageUrl = document.getElementById("reg-imageUrl").value;
            const password = document.getElementById("reg-password").value;

            const users = JSON.parse(localStorage.getItem("users")) || [];

            if (users.some(user => user.username === username)) {
                alert("Username is already exists!");
                return false;
            }

            users.push({ username, imageUrl, password });

            // Save updated users array to localStorage
            localStorage.setItem("users", JSON.stringify(users));

            alert("Registration successful! Please login");
            showLoginForm(); // Switch to login form after successful registration
            return false; // Mencegah pengiriman formulir
        }
        //===============================================================




    </script>
</body>

</html>